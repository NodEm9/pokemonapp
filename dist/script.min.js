let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t&&e.push(t)}function n(e){return r(e).then(function(){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");t.innerHTML="",n.innerHTML="";let i=document.createElement("h1");i.classList.add("modal-title"),i.innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1);let a=document.createElement("img");a.src=e.imageUrl,a.classList.add("modal-image");let l=document.createElement("p");l.innerText="Height: "+e.height;let r=document.createElement("p");r.innerText="Types: "+e.types.join(", ");let o=document.createElement("p");o.innerText="Weight: "+e.weight;let s=document.createElement("p");s.innerText="Abilities: "+e.abilities.join(", ");let c=document.createElement("img");c.src=e.back,c.classList.add("modal-image"),n.appendChild(i),t.appendChild(a),t.appendChild(c),t.appendChild(l),t.appendChild(r),t.appendChild(o),t.appendChild(s)}),e}function i(){let e=document.querySelector(".loading");e.innerText="Loading data...",e.classList.add("is-visible")}function a(){let e=document.querySelector(".loading");e.innerText="",e.classList.remove("is-visible")}async function l(){return i(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){a(),e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){a(),console.error(e)})}async function r(e){return i(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){a(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types.map(function(e){return e.type.name}),e.weight=t.weight,e.abilities=t.abilities.map(function(e){return e.ability.name}),e.back=t.sprites.back_default}).catch(function(e){a(),console.error(e)})}return{add:t,showDetails:n,loadList:l,loadDetails:r,getAll:function t(){return e.sort(function(e,t){return e.name.localeCompare(t.name)})},addListItem:function e(t){let i=document.querySelector(".list-group"),a=document.createElement("li");a.classList.add("list-group-item"),a.style.listStyle="none";let l=document.createElement("button");l.innerText=t.name,l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#modal"),l.classList.add("btn","btn-primary","btn-md","btn-block"),a.appendChild(l),i.appendChild(a),l.addEventListener("click",function(){n(t)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),document.querySelector(".searchForm").addEventListener("input",function(e){let t=document.querySelectorAll(".btn"),n=e.target.value.toLowerCase();t.forEach(function(e){e.innerText.toLowerCase().indexOf(n)>-1?e.style.display="":e.style.display="none"})});